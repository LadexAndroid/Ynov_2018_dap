<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0"/>

    <meta name="description" content="The Dap trainning project admin"/>

    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="Data Access Project"/>

    <link rel="stylesheet" type="text/css" th:href="@{/css/dap.css}"/>

    <title th:text="#{app.title.mail}">Data Access Project Admin</title>

</head>
<body>
<div th:each="account : ${accounts}">

    <div th:text="${account.name}"></div>
    <div th:text="#{mail.nbEmail}">Nb email : <span th:text="${account.nbEmail}"></span></div>
    <table>
        <tr>
            <th th:text="#{mail.received}">Received at</th>
            <th th:text="#{mail.fromAddress}">From address</th>
            <th th:text="#{mail.fromName}">From name</th>
            <th th:text="#{mail.isRead}">Is read</th>
            <th th:text="#{mail.subject}">Subject</th>
            <th th:text="#{mail.body}">Body</th>
        </tr>
        <tr th:each="message : ${account.messages}">
            <td th:text="${message.getReceivedDateTime()}"></td>
            <td th:text="${message.getFrom().getEmailAddress().getAddress()}"></td>
            <td th:text="${message.getFrom().getEmailAddress().getName()}"></td>
            <td th:text="${message.getIsRead()}"></td>
            <td th:text="${message.getSubject()}"></td>
            <td th:text="${message.getBodyPreview()}"></td>
        </tr>
    </table>
</div>
</body>
</html>