<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0"/>

    <meta name="description" content="The Dap trainning project admin"/>

    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="Data Access Project"/>

    <link rel="stylesheet" type="text/css" th:href="@{/css/dap.css}"/>

    <title th:text="#{admin.title}">Data Access Project Admin</title>

</head>
<body>
<div th:each="account : ${accounts}">

    <div th:text="${account.name}"></div>
    <div>Nb email : <span th:text="${account.nbEmail}"></span></div>
    <table>
        <tr>
            <th>Received at</th>
            <th>From address</th>
            <th>From name</th>
            <th>Is read</th>
            <th>Subject</th>
            <th>Body</th>
        </tr>
        <tr th:each="message : ${account.messages}">
            <td th:text="${message.getReceivedDateTime()}"></td>
            <td th:text="${message.getFrom().getEmailAddress().getAddress()}"></td>
            <td th:text="${message.getFrom().getEmailAddress().getName()}"></td>
            <td th:text="${message.getIsRead()}"></td>
            <td th:text="${message.getSubject()}"></td>
            <td th:text="${message.getBodyPreview()}"></td>
        </tr>
    </table>
</div>
</body>
</html>